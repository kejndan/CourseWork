{% extends 'myapp/_base.html' %}
{% load static %}


{% block content %}
    <script src="{% static 'myapp/script.js' %}"></script>
    <script>
        var url = "{% static '' %}";
    </script>


    <div id="window_table">
        <div id="features_window">
            <table class="table table-bordered" id="dataTable" width="100%" cellspacing="0">
                <thead>
                    <tr>
                        <th>Number of row</th>
                        {% for col in columns_feature %}
                        <th>{{ col }}</th>
                        {% endfor %}
                    </tr>
                </thead>
                <tbody>
                    {% for row in rows_feature %}
                        <tr>
                        <td>{{ forloop.counter }}</td>
                        {% for value in row.values %}
                          <td>{{value}}</td>
                        {% endfor %}
                        </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
        <div id="targets_window" width="100%" cellspacing="0">
            <table>
                <thead>
                <tr>
                    <th>Number of row</th>
                    {% for col in column_targets %}
                    <th>{{ col }}</th>
                    {% endfor %}
                </tr>
                </thead>
                <tbody>
                    {% for row in rows_targets %}
                        <tr>
                        <td>{{ forloop.counter }}</td>
                         {% for value in row.values %}
                             <td>{{value}}</td>
                         {% endfor %}
                        </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
    </div>
    <div id="window_output">
{#        {% for stat in status %}#}
{#            <p><b>{{ stat }}</b></p>#}
{#        {% endfor %}#}
    </div>
    <form action="" method="post">
        {% csrf_token %}

    <div id="settings">
        <table border="1" width="100%" cellpadding="5">
            <tr><td colspan="2" align="center">Selects working columns</td></tr>
{#            Select features#}
            <tr>
                <td align="center">Select features <div class="multiselect">
                <div class="selectBox" onclick="showCheckboxes()">
                    <select>
                        <option>Select features</option>
                    </select>
                    <div class="overSelect"></div>
                </div>
                <div id="checkboxes">
                    <label><input type="checkbox" id="check_all_features" checked> Select all</label>
                    {% for col, val in status_checkboxes.items %}
                    <label>
                            <input type="checkbox" class="checkbox_features" name="checks[]" value="{{ forloop.counter }}"
                                {%if val %}checked="checked"{% endif %}/>
                            {{col}}
                    </label>
                    {% endfor %}
                </div>
            </div></td>
                <td align="center">Select predicted column <div class="multiselect">
                <div class="selectBox" onclick="showRadiobuttons()">
                <select>
                    <option>Select target</option>
                </select>
                <div class="overSelect"></div>
                </div>
                <div id="radiobuttons">
                    {% for col, val in status_radio.items %}
                    <label>
                            <input type="radio" name="checksradio[]" value="{{ forloop.counter }}"
                                    {%if val %}checked="checked"{% endif %}/>
                            {{col}}
                    </label>
                    {% endfor %}
                </div>
            </div></td>
            </tr>
{#            Select targets#}
            <tr>
                    <td align="center"><input type="radio" name="type_func" value="regression">Regression</td>
                    <td align="center"><input type="radio" name="type_func" value="classification">Classification</td>
            </tr>

            <tr><td colspan="2" align="center">Advanced settings</td></tr>
{#            Processing missing values#}
            <tr>
                <td align="center">
                    <label>Processing missing<input type="checkbox" id="on_processing_missing"
                    name="on_processing_missing" {% if on_processing_missing %}checked{% endif %}></label>

                </td>
                <td align="center"><div class="multiselect">
                    <div class="selectBox" onclick="showCheckboxesPreprocessing()">
                        <select>
                            <option>Select features</option>
                        </select>
                        <div class="overSelect"></div>
                    </div>
                    <div id="checkboxes_for_preprocessing">
                        <label><input type="checkbox" id="check_all_preprocessing" checked> Select all</label>
                        {% for col, val in status_processing_missing.items %}
                        <label>
                                <input type="checkbox" class="checkbox_preprocessing" name="checks_preprocessing[]"
                                       value="{{ forloop.counter }}"
                                    {%if val %}checked="checked"{% endif %}/>
                                {{col}}
                        </label>
                        {% endfor %}
                    </div>
                    </div></td>
            </tr>
{#            Handling outliners#}
            <tr>
                <td align="center">
                    <label>Handling outliners<input type="checkbox" id="on_handling_outliners"
                    name="on_handling_outliners" {% if on_handling_outliners %}checked{% endif %}></label>

                </td>
                <td align="center"><div class="multiselect">
                    <div class="selectBox" onclick="showCheckboxesHandlingOutliners()">
                        <select>
                            <option>Select features</option>
                        </select>
                        <div class="overSelect"></div>
                    </div>
                    <div id="checkboxes_for_handling_outliners">
                        <label><input type="checkbox" id="check_all_handling_outliners" checked> Select all</label>
                        {% for col, val in status_handling_outliners.items %}
                        <label>
                                <input type="checkbox" class="checkbox_handling_outliners"
                                       name="checks_handling_outliners[]"
                                       value="{{ forloop.counter }}"
                                    {%if val %}checked="checked"{% endif %}/>
                                {{col}}
                        </label>
                        {% endfor %}
                    </div>
                    </div></td>
            </tr>
{#            binning#}
            <tr>
                <td align="center">
                    <label>Binning<input type="checkbox" id="on_binning"
                    name="on_binning" {% if on_binning %}checked{% endif %}></label>
                </td>
                <td align="center"><div class="multiselect">
                    <label>Number bins <input type="number" name="bins" value="3" min="2" max="10" step="1"></label>
                    <div class="selectBox" onclick="showCheckboxesBinning()">
                        <select>
                            <option>Select features</option>
                        </select>
                        <div class="overSelect"></div>
                    </div>
                    <div id="checkboxes_for_binning">
                        <label><input type="checkbox" id="check_all_binning" checked> Select all</label>
                        {% for col, val in status_binning.items %}
                        <label>
                                <input type="checkbox" class="checkbox_binning" name="checks_binning[]"
                                       value="{{ forloop.counter }}"
                                    {%if val %}checked="checked"{% endif %}/>
                                {{col}}
                        </label>
                        {% endfor %}
                    </div>
                    </div></td>
            </tr>
{#            transform#}
            <tr>
                <td align="center">
                    <label>Transform<input type="checkbox" id="on_transform"
                    name="on_transform" {% if on_transform %}checked{% endif %}></label>

                </td>
                <td align="center">
                    <div class="multiselect">
                    <div class="selectBox" onclick="showCheckboxesTransform()">
                        <select>
                            <option>Select features</option>
                        </select>
                        <div class="overSelect"></div>
                    </div>
                    <div id="checkboxes_for_transform">
                        <label><input type="checkbox" id="check_all_transform" checked> Select all</label>
                        {% for col, val in status_transform.items %}
                        <label>
                                <input type="checkbox" class="checkbox_transform" name="checks_transform[]"
                                       value="{{ forloop.counter }}"
                                    {%if val %}checked="checked"{% endif %}/>
                                {{col}}
                        </label>
                        {% endfor %}
                    </div>
                    </div>
                    <select name="type_transform">
                        <option>To Logarithm</option>
                        <option>To box-cox</option>
                    </select>
                </td>
            </tr>
{#            scaling#}
            <tr>
                <td align="center">
                    <label>Scaling<input type="checkbox" id="on_scaling"
                    name="on_scaling" {% if on_scaling %}checked{% endif%}></label>

                </td>
                <td align="center"><div class="multiselect">
                    <div class="selectBox" onclick="showCheckboxesScaling()">
                        <select>
                            <option>Select features</option>
                        </select>
                        <div class="overSelect"></div>
                    </div>
                    <div id="checkboxes_for_scaling">
                        <label><input type="checkbox" id="check_all_scaling" checked> Select all</label>
                        {% for col, val in status_scaling.items %}
                        <label>
                                <input type="checkbox" class="checkbox_scaling" name="checks_scaling[]"
                                       value="{{ forloop.counter }}"
                                    {%if val %}checked="checked"{% endif %}/>
                                {{col}}
                        </label>
                        {% endfor %}
                    </div>
                    <select name="type_scaling">
                        <option>Normalization</option>
                        <option>Standardization</option>
                        <option>l2-normalization</option>
                    </select>
                    </div></td>
            </tr>
            <tr><td colspan="2" align="center"><input type="submit" class="btn" value="Change" id="start_btn"></td></tr>

        </table>
    </div>
    </form>
    <form action="working" method="post" id="form">
        {% csrf_token %}
            <input type="submit" class="btn" value="RUN" id="start_btn">
            <input type="submit" class="btn" value="STOP" id="stop_btn" disabled>
    </form>


{#  <p><a href="{% url 'home' %}">Return to home</a></p>#}
{% endblock %}
